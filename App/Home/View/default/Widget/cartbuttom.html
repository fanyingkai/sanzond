<div class="left">		
	<span class="iconfont smallred">&#xe643;</span>
	<span class="money">总价钱：￥<strong id="totalprice">0</strong></span>
</div>
<a href="cart.html" class="right">
	去购物车
</a>
<script src="/Public/Static/Public/js/smallred.js"></script>
<script>
	$(function(){	
		smallred_init(20,30,18,5,-15,13); /*参数: 弧度 width height top right 字体大小*/
		smallred_setnum(0);
		
		/* 购物车js */
		$('.add').click(function() {
			nbbm = $(this).prev().val();
			oldquantity = $(this).prev().prev().val();
			newquantity = Number(oldquantity) + 1;
			$(this).prev().prev().val(newquantity);
			smallred_addnum(1);
			price = $(this).parent().prev().prev().children().text();
			addtotalprice(price);
		});
		
		$('.sub').click(function() {
			nbbm = $(this).next().next().val();
			oldquantity = $(this).next().val();
			if(oldquantity <= 0) return;
			newquantity = Number(oldquantity) - 1;
			$(this).next().val(newquantity);
			smallred_subnum(1);
			price = $(this).parent().prev().prev().children().text();
			subtotalprice(price);
		})
	});
	
	/* 添加总价钱 */
	function addtotalprice(price) {
		oldprice = $('#totalprice').text();
		newprice = parseFloat(oldprice) + parseFloat(price);
		$('#totalprice').text(newprice);
	}
	
	/* 减总价钱 */
	function subtotalprice(price) {
		oldprice = $('#totalprice').text();
		newprice = parseFloat(oldprice) - parseFloat(price);
		$('#totalprice').text(newprice);
	}
</script>